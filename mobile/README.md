# üì± ShareYourSales Mobile - iOS & Android

Application mobile React Native pour ShareYourSales - Plateforme d'affiliation entre influenceurs et marchands.

## üéØ Vue d'ensemble

Cette application mobile offre toutes les fonctionnalit√©s de la plateforme web ShareYourSales sur iOS et Android :

- **Authentification** compl√®te (login, register, forgot password)
- **Dashboards par r√¥le** (Influenceur, Marchand, Admin)
- **Marketplace** de produits avec recherche et filtres
- **Gestion des liens** d'affiliation (Influenceurs)
- **Gestion des produits** (Marchands)
- **Messagerie** en temps r√©el
- **Analytics et statistiques**
- **Notifications push**
- **Param√®tres** et profil utilisateur

## üèóÔ∏è Architecture

```
mobile/
‚îú‚îÄ‚îÄ android/                 # Configuration Android
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ build.gradle    # Build config Android
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/main/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ AndroidManifest.xml
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle        # Root build config
‚îú‚îÄ‚îÄ ios/                     # Configuration iOS
‚îÇ   ‚îú‚îÄ‚îÄ Podfile             # CocoaPods dependencies
‚îÇ   ‚îú‚îÄ‚îÄ Info.plist          # iOS app config
‚îÇ   ‚îî‚îÄ‚îÄ ShareYourSales.xcodeproj/
‚îú‚îÄ‚îÄ src/                     # Code source
‚îÇ   ‚îú‚îÄ‚îÄ components/          # Composants r√©utilisables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/         # Buttons, Cards, Inputs, etc.
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ charts/         # Charts & graphs
‚îÇ   ‚îú‚îÄ‚îÄ contexts/            # React Contexts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.js  # Gestion authentification
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ToastContext.js # Notifications toast
‚îÇ   ‚îú‚îÄ‚îÄ navigation/          # Navigation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RootNavigator.js    # Navigation principale
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainNavigator.js    # Tab navigation
‚îÇ   ‚îú‚îÄ‚îÄ screens/             # √âcrans de l'app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Login, Register, Forgot Password
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/      # Dashboards par r√¥le
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace/    # Marketplace & produits
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ influencer/     # √âcrans influenceur
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ merchant/       # √âcrans marchand
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages/       # Messagerie
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/        # Profil & param√®tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics/      # Analytics & stats
‚îÇ   ‚îú‚îÄ‚îÄ services/            # Services API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js          # Configuration API (connexion au backend)
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utilitaires
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme.js        # Th√®me de l'app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.js    # Constantes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helpers.js      # Fonctions helpers
‚îÇ   ‚îî‚îÄ‚îÄ assets/              # Images, icons, fonts
‚îú‚îÄ‚îÄ App.js                   # Point d'entr√©e principal
‚îú‚îÄ‚îÄ index.js                 # Entry point React Native
‚îú‚îÄ‚îÄ package.json             # D√©pendances
‚îî‚îÄ‚îÄ README.md               # Ce fichier

```

## üöÄ Installation & D√©marrage

### Pr√©requis

#### Pour tous les d√©veloppeurs :
- **Node.js** 16+ et **npm/yarn**
- **React Native CLI** : `npm install -g react-native-cli`
- **Watchman** (macOS) : `brew install watchman`

#### Pour Android :
- **Android Studio** avec SDK 33
- **Java JDK** 11+
- **Android Emulator** configur√©

#### Pour iOS (macOS uniquement) :
- **Xcode** 14+
- **CocoaPods** : `sudo gem install cocoapods`
- **iOS Simulator**

### üì¶ Installation des d√©pendances

```bash
cd mobile
npm install  # ou yarn install

# Pour iOS uniquement
cd ios && pod install && cd ..
```

### ‚öôÔ∏è Configuration de l'API

Modifiez `src/services/api.js` pour pointer vers votre backend :

```javascript
const API_BASE_URL = __DEV__
  ? 'http://10.0.2.2:8001'  // Android emulator (ou votre IP locale)
  : 'https://your-production-api.com';
```

**Important :**
- Pour Android emulator : `http://10.0.2.2:8001`
- Pour iOS simulator : `http://localhost:8001`
- Pour device r√©el : `http://YOUR_LOCAL_IP:8001` (ex: `http://192.168.1.10:8001`)

### üèÉ Lancer l'application

#### Android

```bash
# Terminal 1 : D√©marrer Metro Bundler
npm start

# Terminal 2 : Lancer sur Android
npm run android

# Ou directement avec un device sp√©cifique
react-native run-android --deviceId=DEVICE_ID
```

#### iOS (macOS uniquement)

```bash
# Terminal 1 : D√©marrer Metro Bundler
npm start

# Terminal 2 : Lancer sur iOS
npm run ios

# Ou avec un simulateur sp√©cifique
react-native run-ios --simulator="iPhone 14 Pro"
```

## üì≤ Fonctionnalit√©s Impl√©ment√©es

### ‚úÖ Authentification
- [x] √âcran de connexion avec validation
- [x] √âcran d'inscription (Influenceur/Marchand)
- [x] Mot de passe oubli√©
- [x] Stockage s√©curis√© du token (AsyncStorage)
- [x] Auto-login au d√©marrage

### ‚úÖ Navigation
- [x] Navigation par tabs (Bottom tabs)
- [x] Navigation par stack
- [x] Navigation adapt√©e par r√¥le
- [x] Back navigation g√©r√©e

### ‚úÖ API Service
- [x] Configuration axios
- [x] Intercepteurs (auth token, errors)
- [x] APIs d'authentification
- [x] APIs dashboard
- [x] APIs marketplace
- [x] APIs affiliation
- [x] APIs produits
- [x] APIs analytics
- [x] APIs messagerie
- [x] APIs notifications
- [x] APIs param√®tres
- [x] APIs abonnements

### üìã √âcrans √† Compl√©ter

Les √©crans suivants sont √† impl√©menter (templates fournis dans la structure) :

#### Dashboard Screens
- `src/screens/dashboard/DashboardScreen.js` - Dashboard g√©n√©rique
- `src/screens/dashboard/InfluencerDashboard.js` - Dashboard influenceur
- `src/screens/dashboard/MerchantDashboard.js` - Dashboard marchand
- `src/screens/dashboard/AdminDashboard.js` - Dashboard admin

#### Marketplace Screens
- `src/screens/marketplace/MarketplaceScreen.js` - Liste des produits
- `src/screens/marketplace/ProductDetailScreen.js` - D√©tails produit

#### Influencer Screens
- `src/screens/influencer/MyLinksScreen.js` - Liste des liens d'affiliation
- `src/screens/influencer/LinkStatsScreen.js` - Statistiques d'un lien

#### Merchant Screens
- `src/screens/merchant/ProductsListScreen.js` - Liste des produits
- `src/screens/merchant/CreateProductScreen.js` - Cr√©er/√âditer un produit
- `src/screens/merchant/AffiliationRequestsScreen.js` - Demandes d'affiliation

#### Messages Screens
- `src/screens/messages/MessagesScreen.js` - Liste des conversations
- `src/screens/messages/ChatScreen.js` - Conversation

#### Profile Screens
- `src/screens/profile/ProfileScreen.js` - Profil utilisateur
- `src/screens/profile/SettingsScreen.js` - Param√®tres
- `src/screens/profile/EditProfileScreen.js` - √âditer le profil

#### Analytics Screens
- `src/screens/analytics/AnalyticsScreen.js` - Analytics dashboard
- `src/screens/analytics/ConversionsScreen.js` - Conversions d√©taill√©es

### üé® Composants UI √† Cr√©er

Composants r√©utilisables √† impl√©menter :

```
src/components/
‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îú‚îÄ‚îÄ Button.js           # Bouton personnalis√©
‚îÇ   ‚îú‚îÄ‚îÄ Card.js             # Card UI
‚îÇ   ‚îú‚îÄ‚îÄ Input.js            # Input personnalis√©
‚îÇ   ‚îú‚îÄ‚îÄ Badge.js            # Badge (status, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ Avatar.js           # Avatar utilisateur
‚îÇ   ‚îú‚îÄ‚îÄ EmptyState.js       # √âtat vide
‚îÇ   ‚îî‚îÄ‚îÄ LoadingSpinner.js   # Loading indicator
‚îî‚îÄ‚îÄ charts/
    ‚îú‚îÄ‚îÄ LineChart.js        # Graphique ligne
    ‚îú‚îÄ‚îÄ BarChart.js         # Graphique barres
    ‚îî‚îÄ‚îÄ PieChart.js         # Graphique circulaire
```

## üé® Th√®me & Design

Le th√®me est configur√© dans `src/utils/theme.js` :

```javascript
// Couleurs principales
primary: '#6366f1',      // Indigo
secondary: '#8b5cf6',    // Purple
accent: '#f59e0b',       // Amber
success: '#10b981',      // Green
error: '#ef4444',        // Red
warning: '#f59e0b',      // Amber
```

## üì± Build Production

### Android (.apk / .aab)

1. **G√©n√©rer une cl√© de signature :**

```bash
cd android/app
keytool -genkeypair -v -storetype PKCS12 -keystore shareyoursales-release-key.keystore -alias shareyoursales-release -keyalg RSA -keysize 2048 -validity 10000
```

2. **Configurer gradle.properties :**

```properties
SHAREYOURSALES_UPLOAD_STORE_FILE=shareyoursales-release-key.keystore
SHAREYOURSALES_UPLOAD_KEY_ALIAS=shareyoursales-release
SHAREYOURSALES_UPLOAD_STORE_PASSWORD=your_keystore_password
SHAREYOURSALES_UPLOAD_KEY_PASSWORD=your_key_password
```

3. **Build APK :**

```bash
cd android
./gradlew assembleRelease

# APK disponible dans :
# android/app/build/outputs/apk/release/app-release.apk
```

4. **Build AAB (Google Play) :**

```bash
cd android
./gradlew bundleRelease

# AAB disponible dans :
# android/app/build/outputs/bundle/release/app-release.aab
```

### iOS (.ipa)

1. **Ouvrir Xcode :**

```bash
open ios/ShareYourSales.xcworkspace
```

2. **Dans Xcode :**
   - S√©lectionner "Generic iOS Device" ou votre device
   - Product > Archive
   - Distribute App > App Store Connect / Ad Hoc

3. **Ou via CLI (avec fastlane) :**

```bash
cd ios
fastlane build
```

## üöÄ D√©ploiement

### üì± Google Play Store (Android)

1. Cr√©er un compte d√©veloppeur Google Play (25$ one-time)
2. Cr√©er une nouvelle application
3. Remplir les informations (description, screenshots, etc.)
4. Upload l'AAB : `android/app/build/outputs/bundle/release/app-release.aab`
5. Soumettre pour review

**Screenshots requis :**
- Phone : 16:9 (1920x1080) - min 2 screenshots
- 7" Tablet : 16:9 (1920x1080) - min 1 screenshot
- 10" Tablet : 16:9 (1920x1080) - min 1 screenshot

### üçé App Store (iOS)

1. Cr√©er un compte Apple Developer (99$/an)
2. Cr√©er une App ID dans Apple Developer Portal
3. Cr√©er l'app dans App Store Connect
4. Pr√©parer les assets :
   - Icon 1024x1024
   - Screenshots iPhone (6.7", 6.5", 5.5")
   - Screenshots iPad (12.9", 10.5")
5. Upload via Xcode Archive ou Application Loader
6. Soumettre pour review

## üîß Configuration Avanc√©e

### Push Notifications

1. **Firebase Cloud Messaging (Android & iOS) :**

```bash
npm install @react-native-firebase/app @react-native-firebase/messaging
```

2. Ajouter `google-services.json` (Android) et `GoogleService-Info.plist` (iOS)

3. Configuration dans `App.js`

### Deep Linking

Configuration dans `AndroidManifest.xml` et `Info.plist` pour ouvrir l'app via liens :

```
shareyoursales://marketplace/product/123
```

### Analytics

Int√©grer Firebase Analytics, Mixpanel, ou Amplitude pour tracking.

## üêõ Debug

### Activer le mode debug

```bash
# Android
adb shell input keyevent 82  # Ouvre dev menu

# iOS
Cmd + D dans le simulateur
```

### Logs

```bash
# Android
react-native log-android

# iOS
react-native log-ios
```

### React Native Debugger

```bash
npm install -g react-native-debugger
react-native-debugger
```

## üì¶ D√©pendances Principales

- **react-native** : Framework mobile
- **@react-navigation** : Navigation
- **react-native-paper** : UI components (Material Design)
- **axios** : HTTP client
- **@react-native-async-storage** : Local storage
- **react-native-vector-icons** : Icons
- **react-native-chart-kit** : Charts
- **react-native-svg** : SVG support

## üîí S√©curit√©

- **Token JWT** stock√© dans AsyncStorage (encrypted)
- **HTTPS** obligatoire en production
- **Code obfuscation** avec ProGuard (Android) et bitcode (iOS)
- **Certificate pinning** recommand√© pour API calls

## üìÑ Licence

Proprietary - ShareYourSales ¬© 2025

## ü§ù Support

Pour toute question :
- Email : support@shareyoursales.ma
- Documentation compl√®te : https://docs.shareyoursales.ma

---

## ‚úÖ Next Steps

1. **Compl√©ter les √©crans** list√©s dans la section "√âcrans √† Compl√©ter"
2. **Cr√©er les composants UI** r√©utilisables
3. **Tester sur devices r√©els** (Android & iOS)
4. **Optimiser les performances** (images, lazy loading, etc.)
5. **Ajouter les tests** (Jest, Detox)
6. **Pr√©parer les assets** (icon, splash screen, screenshots)
7. **Build & deploy** sur les stores

**Temps estim√© pour compl√©tion : 2-3 semaines**

Bon d√©veloppement ! üöÄ
